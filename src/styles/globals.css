@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  --text: theme("colors.slate.800");
  --text-light: theme("colors.white");

  --content-width: 1200px;

  --header-height: 100px;
  --submenu-width: 192px;

  --button-max-width: 128px;

  --accent-color: #6741d9;
  --secondary-color: #d0bfff;
}

body {
  @apply bg-slate-50;

  main {
    @apply max-w-full min-h-screen w-full flex flex-col;

    :where(*) {
      @apply text-[var(--text)] ~text-base/xl;
    }

    :where(p, div) {
      @apply opacity-90;
    }

    :where(h1) {
      @apply ~text-4xl/8xl font-bold tracking-tight font-serif;
    }

    :where(h2) {
      @apply ~text-2xl/4xl font-bold tracking-tighter font-serif;
    }

    :where(h3) {
      @apply ~text-lg/2xl font-bold font-serif tracking-tighter;
    }

    :where(p) {
      &:not([data-type="text"]) {
        @apply font-serif first-letter:~text-xl/4xl first-letter:text-[var(--p-first-letter-text,theme('colors.white'))] first-letter:bg-[var(--p-first-letter-bg,var(--accent-color))] first-letter:inline first-letter:px-3 first-letter:rounded-lg first-letter:shadow-lg first-letter:mr-1 first-letter:align-middle;
      }
    }

    :where(button) {
      @apply min-w-[var(--button-max-width)] w-fit text-[var(--text-light)] rounded-lg p-1.5 text-lg bg-gradient-to-tr from-accent/85 via-accent/85 to-secondary/75 bg-blend-multiply;
      @apply hover:scale-105 active:scale-95 transition-all duration-200 ease-in-out;

      @apply relative overflow-hidden shadow-md hover:shadow-lg;

      &:hover::before {
        content: "";
        @apply absolute inset-0 bg-white/10 rounded-lg blur-sm;
      }

      &:focus-visible {
        @apply outline-none ring-2 ring-accent ring-offset-2 ring-offset-white;
      }

      &:hover::after {
        content: "";
        @apply absolute w-[120%] h-[120%] top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 pointer-events-none;
        background: radial-gradient(
          ellipse at center,
          white 0%,
          transparent 70%
        );
        @apply opacity-20 blur-md;
      }

      &:hover::after {
        left: 125%;
      }
    }

    header {
      @apply max-w-[var(--content-width)] mx-auto w-full p-4 h-[var(--header-height)] py-8 flex flex-row justify-between;

      img {
        @apply max-w-[32px];
      }

      ul {
        @apply flex flex-row gap-4 items-center;

        li {
          &:not(:has(ul)) {
            a {
              @apply relative after:w-0 hover:after:w-[90%] after:transition-all after:translate-x-[-50%] after:absolute after:h-px after:content-[''] after:bg-accent after:left-1/2 after:bottom-[-1px] px-2;
            }
          }

          &:has(ul) {
            @apply relative py-1 px-2;

            &:hover ul {
              opacity: 1;
              pointer-events: auto;
              transform: translateY(0);

              li {
                a {
                  @apply hover:after:w-0;
                }
              }
            }
          }

          a {
            @apply p-px;
          }

          /** 
            Submenu 
          */
          & > ul {
            @apply transition-all duration-300 absolute left-[calc(50%-calc(var(--submenu-width)/2))] translate-x-[50%] top-full flex-col gap-4 w-[var(--submenu-width)] flex bg-white p-4 py-6 shadow-md rounded-xl z-10 items-start;

            opacity: 0;
            pointer-events: none;
            transform: translateY(10px);
          }
        }
      }
    }

    > section,
    > section ~ section {
      @apply w-full flex flex-col gap-4 pt-8 max-w-[var(--content-width)] mx-auto p-4;

      &.hero {
        @apply max-w-full w-full px-16 pt-0 pb-0;

        @media (max-width: 1292px) {
          padding-left: 16px;
          padding-right: 16px;
          max-width: var(--content-width);
          margin: 0 auto;
        }

        > div {
          @apply w-full max-w-full rounded-3xl shadow-md bg-blend-multiply bg-accent;

          background-image: var(--hero-url);

          div {
            @apply mx-auto flex-col gap-4 max-w-[var(--content-width)] items-start w-full justify-center p-4 h-[calc(100vh-calc(var(--header-height)*2))] flex;

            *:not(button) {
              @apply text-[var(--text-light)];
            }
          }
        }
      }
    }
  }
}
